<div class="min-h-screen bg-{{ option('primaryColor','blue') }}-800 relative overflow-hidden" x-data="{ menuOpen: false }" x-effect="document.body.style.overflow = menuOpen ? 'hidden' : 'auto'">
    
    <!-- Blurred Background -->
    <div class="absolutex fixed inset-0 z-0 bg-[conic-gradient(at_top,_var(--tw-gradient-stops))] from-{{ option('primaryColor','blue') }}-800 via-black/80 to-{{ option('primaryColor','blue') }}-900">
        <svg class="absolute opacity-80 inset-0 -z-10 size-full mask-[radial-gradient(100%_100%_at_top_right,white,transparent)] stroke-white/5" aria-hidden="true">
            <defs>
            <pattern id="983e3e4c-de6d-4c3f-8d64-b9761d1534cc" width="200" height="200" x="50%" y="-1" patternUnits="userSpaceOnUse">
                <path d="M.5 200V.5H200" fill="none"></path>
            </pattern>
            </defs> 
            <svg x="50%" y="-1" class="overflow-visible fill-white/5">
            <path d="M-200 0h201v201h-201Z M600 0h201v201h-201Z M-400 600h201v201h-201Z M200 800h201v201h-201Z" stroke-width="0"></path>
            </svg>
            <rect width="100%" height="100%" stroke-width="0" fill="url(#983e3e4c-de6d-4c3f-8d64-b9761d1534cc)"></rect>
        </svg> 
    </div>
 

    <!-- Contact Card -->
    <div class="relative md:mt-4 z-10 flex flex-col items-center md:max-w-xlX sm:max-w-3xl md:rounded-2xl w-full md:border-4 border-black/20 mx-auto">

        {{renderBlock('links')}} 
    
        {# {% include 'theme::_language-buttons' %} #}

        <!-- Header Image -->
            <div class="w-full sm:relative Xfixed Xobject-cover min-h-[56px] md:rounded-t-xl bg-[radial-gradient(ellipse_at_bottom_right,_var(--tw-gradient-stops))] from-{{ option('primaryColor','blue') }}-600 via-{{ option('primaryColor','blue') }}-700 to-{{ option('primaryColor','blue') }}-900 ">
        
            {{renderBlock('links', 'links-mobile')}}
                
            {# {% include 'theme::_language-buttons-mobile' %} #}

            {% if option('headerImage') %}
            <img src="{{ storage(option('headerImage')) }}" alt="{{tenant('name')}}" class="w-full max-h-80 object-coverx md:rounded-t-xl opacity-90 ">
            {# <div class="w-full sm:h-80 h-56 md:rounded-t-xl shadow-lg bg-[url('{{ storage(option('headerImage')) }}')] bg-containX bg-cover   bg-no-repeat bg-center opacity-90"></div> #}
            {% else %}
             
                {% if option()|length  == 0 %}
                    <img src="{{asset('assets/images/cover.png')}}" alt="{{tenant('name')}}" class="w-full max-h-80 object-coverx md:rounded-t-xl  opacity-90">
                {% endif %}

            {% endif %}
             
        </div>

        <div class="md:max-w-3xl sm:mt-0 xmt-56 w-full Xborder-b-4 border-white/90 bg-white min-h-[100vh] py-4 pb-20 rounded-b-xl  z-50">
 
            {% include 'theme::_header' %}

         
            {{renderBlock('cta')}}

            <div class="flex flex-col gap-y-10 Xdivide-y-2 divide-gray-200 divide-dashed">
                {{renderBlockComponent('about')}}
                
                {{renderBlockComponent('features')}}
                {{renderBlock('services')}}
                {{renderBlock('reviews')}}
                {{renderBlock('team')}}
                {{renderBlock('portfolio')}}
                {{renderBlockComponent('faq')}}
                {{renderBlockComponent('contact-info')}}
            </div>
           
        </div>


    </div>
     

    <footer class="sm:pb-6 py-3 px-2  flex items-center  justify-between mx-auto max-w-3xl w-full gap-x-4 relative z-50"
            x-data="{ 
                modalOpen: false,
                closeModal() { this.modalOpen = false; document.body.style.overflow = ''; },
                openModal() { this.modalOpen = true; document.body.style.overflow = 'hidden'; }
            }"
            @keydown.escape.window="closeModal()">
          
        <div class="text-xs font-normal text-center text-white/60 items-center  gap-x-1 flex">
               <span class="text-white/60">{{dt('Y')}}</span>
               ©
              <a href="{{tenant('storefront_url')}}" target="_blank" class="text-primary-200 hover:text-primary-400 inline-block">{{ tenant('name') }}</a>
        </div>

        <div class="flex items-center gap-x-2 text-xs text-white/60">
            باستخدام
            <a href="https://broshur.com" target="_blank" class="cursor-pointer items-center w-full inline-flex gap-x-2 font-semibold text-[#219EBC] hover:text-[#3daac5]">
                <img class=" h-5" src="{{asset('assets/images/broshur-logo-shape.webp')}}" alt="{{site('name')}}" /> 
                بروشور
            </a>
        </div>

        <div>   
            <button type="button" @click="openModal()" class="text-xs text-primary-200 hover:text-primary-400 inline-block"> الاتفاقية </button>
        </div>
      
        <!-- Agreement Modal Overlay -->
        <div 
            x-show="modalOpen" 
            x-cloak
            @click="closeModal()"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900 bg-opacity-75 backdrop-blur-sm"
            style="display: none;"
        >
            <!-- Modal Content -->
            <div 
                @click.stop
                x-show="modalOpen"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 scale-95 translate-y-4"
                x-transition:enter-end="opacity-100 scale-100 translate-y-0"
                x-transition:leave="transition ease-in duration-200"
                x-transition:leave-start="opacity-100 scale-100 translate-y-0"
                x-transition:leave-end="opacity-0 scale-95 translate-y-4"
                class="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden"
                style="display: none;"
            >
                <!-- Close Button -->
                <button 
                    @click="closeModal()"
                    type="button"
                    class="absolute top-4 left-4 z-10 rounded-full bg-gray-100 p-2 text-gray-500 hover:bg-gray-200 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-{{ option('primaryColor', 'blue') }}-500 focus:ring-offset-2 transition-colors duration-200"
                    aria-label="إغلاق"
                >
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                
                <!-- Modal Body -->
                <div class="overflow-y-auto max-h-[90vh] min-h-[50vh]">
                    {{renderBlockComponent('agreement')}}
                </div>
            </div>
        </div>
      
    </footer>

</div>