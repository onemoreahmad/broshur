
<!-- Action Buttons -->

<div class="flex flex-col gap-2 {% if links|length > 0 %} p-4 {% endif %} bg-gray-100 " 
     x-data="{ 
         contactModalOpen: false,
         closeModal() { this.contactModalOpen = false; document.body.style.overflow = ''; },
         openModal() { this.contactModalOpen = true; document.body.style.overflow = 'hidden'; }
     }"
     @keydown.escape.window="closeModal()">
 
        <div class="flex items-center gap-x-2"> 
        {% for link in links %}
            {% if link.type == 'cta'  %}
                {% if data_get(link, 'slug') == 'whatsapp' and link.active %}
                    <a href="https://wa.me/{{data_get(link, 'link')}}?text=السلام عليكم {{tenant('name')}}" target="_blank" class="w-full bg-white border-2 border-{{ option('primaryColor', 'blue') }}-700 text-{{ option('primaryColor', 'blue') }}-900 flex items-center gap-x-2 justify-center py-3 px-4 rounded-lg font-medium hover:bg-{{ option('primaryColor', 'blue') }}-700 hover:text-white transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="size-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-whatsapp"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9" /><path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1" /></svg>
                        ابدأ المحادثة    
                    </a>
                {% endif %}
                {% if data_get(link, 'slug') == 'contact' and link.active %}
                    <button type="button" @click="openModal()" class="w-full bg-{{ option('primaryColor', 'blue') }}-700 hover:bg-{{ option('primaryColor', 'blue') }}-800 flex items-center justify-center gap-x-2 border-2 border-transparent text-white py-3 px-4 rounded-lg font-medium transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                        </svg>
                        اتصل بنا
                    </button>
                {% endif %}
            {% endif %}
        {% endfor %}
        </div>
  


        <div class="flex items-center gap-x-2"> 
        {% for link in links %}             
            {% if data_get(link, 'slug') starts with 'custom-' and link.active %}
                <a href="{{link.link}}" target="_blank" class="w-full bg-white border-2 border-{{ option('primaryColor', 'blue') }}-700 text-{{ option('primaryColor', 'blue') }}-900 flex items-center gap-x-2 justify-center py-3 px-4 rounded-lg font-medium hover:bg-{{ option('primaryColor', 'blue') }}-700 hover:text-white transition-colors duration-200">
                    {% if data_get(link, 'meta.label') %}
                        {{data_get(link, 'meta.label')}}
                    {% else %}
                        رابط
                    {% endif %}
                </a>
            {% endif %}
        {% endfor %}
        </div>
  
 
    <!-- Modal Overlay -->
    <div 
        x-show="contactModalOpen" 
        x-cloak
        @click="closeModal()"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900 bg-opacity-75 backdrop-blur-sm"
        style="display: none;"
    >
        <!-- Modal Content -->
        <div 
            @click.stop
            x-show="contactModalOpen"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 scale-95 translate-y-4"
            x-transition:enter-end="opacity-100 scale-100 translate-y-0"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100 scale-100 translate-y-0"
            x-transition:leave-end="opacity-0 scale-95 translate-y-4"
            class="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden"
            style="display: none;"
        >
            <!-- Close Button -->
            <button 
                @click="closeModal()"
                type="button"
                class="absolute top-4 left-4 z-10 rounded-full bg-gray-100 p-2 text-gray-500 hover:bg-gray-200 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-{{ option('primaryColor', 'blue') }}-500 focus:ring-offset-2 transition-colors duration-200"
                aria-label="إغلاق"
            >
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            
            <!-- Modal Body -->
            <div class="overflow-y-auto max-h-[90vh]">
                {{render('contact-form-modal')}}
            </div>
        </div>
    </div>
</div>
 